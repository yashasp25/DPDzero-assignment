<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Index - Instant Bootstrap Template</title>
    <meta name="description" content="">
    <meta name="keywords" content="">

    <!-- Favicons -->
    <link href="static/assets/img/favicon.png" rel="icon">
    <link href="static/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="static/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="static/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="static/assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="static/assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="static/assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <!-- Main CSS File -->
    <link href="static/assets/css/main.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- =======================================================
  * Template Name: Instant
  * Template URL: https://bootstrapmade.com/newtemplate-bootstrap-website-template/
  * Updated: Jun 11 2025 with Bootstrap v5.3.6
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
    <style>
        .form-select {
            background-color: transparent !important;
            color: #7a7a7aeb !important;
            border: 2px solid #7a7a7a53;
            border-radius: 11px;
            padding-left: 20px;
            padding-bottom: 10px;
            padding-top: 10px;
        }

        .form-control {
            background-color: transparent !important;
            color: #ffffff !important;
            border: 2px solid #7a7a7a53;
            border-radius: 11px;
            padding-left: 20px;
            padding-bottom: 10px;
            padding-top: 10px;

        }

        input::placeholder {
            color: #7a7a7aeb !important;
            background-color: transparent !important;

        }
    </style>
</head>

<body class="index-page">

    <header id="header" class="header d-flex align-items-center fixed-top">
        <div class="container position-relative d-flex align-items-center justify-content-between">

            <a href="dashboard_manager.html" class="logo d-flex align-items-center me-auto me-xl-0">
                <!-- Uncomment the line below if you also wish to use an image logo -->
                <!-- <img src="static/assets/img/logo.webp" alt=""> -->
                <h1 class="sitename">DPDZero</h1>
            </a>

            <nav id="navmenu" class="navmenu">
                <ul>
                    <li><a href="/manager_dashboard" class="active">Home</a></li>


                    <li><a href="#feedback">Feedback</a></li>
                    <li><a href="#mdashboard">Dashboard</a></li>
                    <li><a href="#team-overview">Team-overview</a></li>
                    <li><a href="/logout">Logout</a></li>


                </ul>
                <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
            </nav>



        </div>
    </header>

    <main class="main">

        <section id="hero" class="hero section">
            <div class="container">
                <div class="hero-wrapper">
                    <div class="hero-main-content text-center">
                        <h1 class="hero-title" data-aos="zoom-in" data-aos-delay="200">
                            Empower Your Team Through<br>
                            <span class="typed"
                                data-typed-items="Constructive Feedback,Real-Time Insights,Continuous Growth"></span>
                        </h1>

                        <p class="hero-description" data-aos="fade-up" data-aos-delay="300">
                            Our lightweight feedback system fosters a culture of transparency, improvement, and
                            trust—ensuring every
                            voice is heard and every potential is unlocked.
                        </p>

                        <div class="hero-actions" data-aos="fade-up" data-aos-delay="400">
                            <a href="https://www.youtube.com/watch?v=MKQOO4Vhk_w"
                                class="action-btn secondary glightbox">
                                <i class="bi bi-play-circle"></i>
                                <span>Watch a Quick Demo</span>
                            </a>
                            <a href="https://youtu.be/s6WP4VC3_U4" class="action-btn secondary glightbox">
                                <i class="bi bi-play-circle"></i>
                                <span>Take a tour to the codebase</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="feedback" class="contact section">
            <div class="container section-title" data-aos="fade-up">
                <h2>Feedback</h2>
            </div>

            <div class="container" data-aos="fade-up" data-aos-delay="100">
                <div class="row justify-content-center">
                    <div class="col-lg-6" data-aos="fade-left" data-aos-delay="200">
                        <div class="contact-form-wrapper">
                            <div class="form-header text-center">
                                <h3>We value your feedback.</h3>
                                <p>
                                    Because every voice matters, and every insight drives improvement.
                                </p>
                            </div>
                            {% with messages = get_flashed_messages(with_categories=true) %}
                            {% if messages %}
                            {% for category, message in messages %}
                            <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                                {{ message }}
                                <button type="button" class="btn-close" data-bs-dismiss="alert"
                                    aria-label="Close"></button>
                            </div>
                            {% endfor %}
                            {% endif %}
                            {% endwith %}
                            <form action="/give_feedback" method="post" class="">

                                <div class="mb-3">
                                    <label for="employee_id" class="form-label">Select Employee</label>
                                    <select class="form-select" name="employee_id" id="employee_id" required>
                                        <option value="">-- Select Team Member --</option>
                                        {% for employee in employees %}
                                        <option value="{{ employee.id }}">{{ employee.username }} (ID: {{ employee.id
                                            }})</option>

                                        {% endfor %}
                                    </select>
                                </div>

                                <div class="mb-3">
                                    <label for="strengths" class="form-label">Strengths</label>
                                    <input class="form-control bg-transparent" type="text" name="strengths"
                                        id="strengths" rows="3" required placeholder="Mention the strengths" />
                                </div>

                                <div class="mb-3">
                                    <label for="improvements" class="form-label">Areas to Improve</label>
                                    <input class="form-control bg-transparent" type="text" name="improvements"
                                        id="improvements" rows="3" required placeholder="Mention improvement areas" />
                                </div>

                                <div class="mb-3">
                                    <label for="sentiment" class="form-label">Overall Sentiment</label>
                                    <select class="form-select bg-transparent" name="sentiment" id="sentiment" required>
                                        <option value="">-- Select Sentiment --</option>
                                        <option value="positive">Positive</option>
                                        <option value="neutral">Neutral</option>
                                        <option value="negative">Negative</option>
                                    </select>
                                </div>



                                <button type="submit" class="submit-btn btn btn-warning w-100 pt-3 pb-3">
                                    <span>Submit Feedback</span>
                                    <i class="bi bi-send"></i>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

        </section>

        <section id="mdashboard" class="contact section">
            <div class="container section-title" data-aos="fade-up">
                <h2>Dashboard</h2>
            </div>

            <div class="container" data-aos="fade-up" data-aos-delay="100">
                <div class="row justify-content-center">
                    <div class="col-lg-12" data-aos="fade-left" data-aos-delay="200">
                        <div class="contact-form-wrapper">
                            <div class="form-header text-center">
                                <h3>Employees List</h3>
                                <p>Manage and update your team effortlessly</p>
                            </div>

                            <div class="table-responsive">
                                <table class="table table-bordered table-hover text-center">
                                    <thead class="table-light">
                                        <tr>
                                            <th>Employee</th>
                                            <th>Strengths</th>
                                            <th>Improvements</th>
                                            <th>Sentiment</th>
                                            <th>Acknowledged</th>
                                            <th>Edit</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for feedback in feedbacks %}
                                        <tr>
                                            <td>{{ feedback.employee.username }} (ID: {{ feedback.employee.id }})</td>

                                            <td>{{ feedback.strengths }}</td>
                                            <td>{{ feedback.improvements }}</td>
                                            <td class="text-capitalize">{{ feedback.sentiment }}</td>
                                            <td>
                                                {% if feedback.acknowledged %}
                                                <span class="badge bg-success">Yes</span>
                                                {% else %}
                                                <span class="badge bg-secondary">No</span>
                                                {% endif %}
                                            </td>
                                            <td>
                                                <a href="{{ url_for('edit_feedback', id=feedback.id) }}"
                                                    class="btn btn-warning btn-sm">Edit</a>
                                            </td>
                                        </tr>
                                        {% else %}
                                        <tr>
                                            <td colspan="6">No feedback submitted yet.</td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </section>



        <section id="team-overview" class="contact section">
            <div class="container section-title" data-aos="fade-up">
                <h2>Team Feedback Overview</h2>
                <p>Get a bird’s-eye view of sentiment trends across your team.</p>
            </div>

            <div class="container" data-aos="fade-up" data-aos-delay="100">
                <div class="row justify-content-center">
                    <!-- Sentiment Pie Chart -->
                    <div class="col-md-6 mb-4">
                        <div class="card shadow">
                            <div class="card-body">
                                <h2 class="card-title text-center ">Sentiment Trends</h2>
                                <canvas id="sentimentChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Feedback Count Table -->
                    <div class="col-md-6 mb-4">
                        <div class="card shadow">
                            <div class="card-body">
                                <h2 class="card-title text-center">Feedback Count per Employee</h2>
                                <div class="table-responsive">
                                    <table class="table table-bordered text-center">
                                        <thead class="table-light">
                                            <tr>
                                                <th>Employee</th>
                                                <th>Feedback Count</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for emp in feedback_count_summary %}
                                            <tr>
                                                <td>{{ emp.username }} (ID: {{ emp.id }})</td>
                                                <td>{{ emp.count }}</td>
                                            </tr>
                                            {% else %}
                                            <tr>
                                                <td colspan="2">No feedback data available.</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Hidden Data for Chart -->
                <div id="sentiment-data" data-positive="{{ sentiment_summary.get('positive', 0) }}"
                    data-neutral="{{ sentiment_summary.get('neutral', 0) }}"
                    data-negative="{{ sentiment_summary.get('negative', 0) }}">
                </div>

            </div>
        </section>



    </main>

    <!-- Scroll Top -->
    <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i
            class="bi bi-arrow-up-short"></i></a>

    <!-- Vendor JS Files -->
    <script src="static/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="static/assets/vendor/php-email-form/validate.js"></script>
    <script src="static/assets/vendor/aos/aos.js"></script>
    <script src="static/assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="static/assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="static/assets/vendor/typed.js/typed.umd.js"></script>
    <script src="static/assets/vendor/swiper/swiper-bundle.min.js"></script>

    <!-- Main JS File -->
    <script src="static/assets/js/main.js"></script>

    <script src="{{ url_for('static', filename='assets/js/manager_dashboard.js') }}"></script>


</body>

</html>